{
  "version": 4,
  "terraform_version": "1.5.0",
  "serial": 42,
  "lineage": "abc123-def456-ghi789",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "vpc-0a1b2c3d4e5f6g7h8",
            "arn": "arn:aws:ec2:us-east-1:123456789012:vpc/vpc-0a1b2c3d4e5f6g7h8",
            "cidr_block": "10.0.0.0/16",
            "name": "main-vpc",
            "tags": {
              "Name": "Production VPC",
              "Environment": "production",
              "ManagedBy": "Terraform"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public_a",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "subnet-0a1b2c3d4e5f6g7h8",
            "arn": "arn:aws:ec2:us-east-1:123456789012:subnet/subnet-0a1b2c3d4e5f6g7h8",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "cidr_block": "10.0.1.0/24",
            "availability_zone": "us-east-1a",
            "name": "public-subnet-a",
            "tags": {
              "Name": "Public Subnet A",
              "Type": "public",
              "Environment": "production"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public_b",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "subnet-1b2c3d4e5f6g7h8i9",
            "arn": "arn:aws:ec2:us-east-1:123456789012:subnet/subnet-1b2c3d4e5f6g7h8i9",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "cidr_block": "10.0.2.0/24",
            "availability_zone": "us-east-1b",
            "name": "public-subnet-b",
            "tags": {
              "Name": "Public Subnet B",
              "Type": "public",
              "Environment": "production"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private_a",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "subnet-2c3d4e5f6g7h8i9j0",
            "arn": "arn:aws:ec2:us-east-1:123456789012:subnet/subnet-2c3d4e5f6g7h8i9j0",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "cidr_block": "10.0.10.0/24",
            "availability_zone": "us-east-1a",
            "name": "private-subnet-a",
            "tags": {
              "Name": "Private Subnet A",
              "Type": "private",
              "Environment": "production"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "web_sg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "sg-0a1b2c3d4e5f6g7h8",
            "arn": "arn:aws:ec2:us-east-1:123456789012:security-group/sg-0a1b2c3d4e5f6g7h8",
            "name": "web-security-group",
            "description": "Security group for web servers",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "tags": {
              "Name": "Web Server SG",
              "Environment": "production",
              "Purpose": "web"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "alb_sg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "sg-1b2c3d4e5f6g7h8i9",
            "arn": "arn:aws:ec2:us-east-1:123456789012:security-group/sg-1b2c3d4e5f6g7h8i9",
            "name": "alb-security-group",
            "description": "Security group for application load balancer",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "tags": {
              "Name": "ALB Security Group",
              "Environment": "production",
              "Purpose": "loadbalancer"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb",
      "name": "main_alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "arn:aws:elasticloadbalancing:us-east-1:123456789012:loadbalancer/app/main-alb/50dc6c495c0c9188",
            "arn": "arn:aws:elasticloadbalancing:us-east-1:123456789012:loadbalancer/app/main-alb/50dc6c495c0c9188",
            "name": "main-alb",
            "dns_name": "main-alb-1234567890.us-east-1.elb.amazonaws.com",
            "load_balancer_type": "application",
            "subnets": ["subnet-0a1b2c3d4e5f6g7h8", "subnet-1b2c3d4e5f6g7h8i9"],
            "security_groups": ["sg-1b2c3d4e5f6g7h8i9"],
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "tags": {
              "Name": "Main Application Load Balancer",
              "Environment": "production",
              "Team": "platform"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "web_tg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "arn:aws:elasticloadbalancing:us-east-1:123456789012:targetgroup/web-tg/50dc6c495c0c9188",
            "arn": "arn:aws:elasticloadbalancing:us-east-1:123456789012:targetgroup/web-tg/50dc6c495c0c9188",
            "name": "web-target-group",
            "port": 80,
            "protocol": "HTTP",
            "target_type": "instance",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "health_check": {
              "enabled": true,
              "path": "/health",
              "port": "80",
              "protocol": "HTTP"
            },
            "tags": {
              "Name": "Web Target Group",
              "Environment": "production",
              "Service": "web"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "api_tg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "arn:aws:elasticloadbalancing:us-east-1:123456789012:targetgroup/api-tg/60dc7c595c0c9299",
            "arn": "arn:aws:elasticloadbalancing:us-east-1:123456789012:targetgroup/api-tg/60dc7c595c0c9299",
            "name": "api-target-group",
            "port": 8080,
            "protocol": "HTTP",
            "target_type": "instance",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "health_check": {
              "enabled": true,
              "path": "/api/health",
              "port": "8080",
              "protocol": "HTTP"
            },
            "tags": {
              "Name": "API Target Group",
              "Environment": "production",
              "Service": "api"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "https",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "arn:aws:elasticloadbalancing:us-east-1:123456789012:listener/app/main-alb/50dc6c495c0c9188/abcdef123456",
            "arn": "arn:aws:elasticloadbalancing:us-east-1:123456789012:listener/app/main-alb/50dc6c495c0c9188/abcdef123456",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:123456789012:loadbalancer/app/main-alb/50dc6c495c0c9188",
            "port": 443,
            "protocol": "HTTPS",
            "name": "https-listener",
            "tags": {
              "Name": "HTTPS Listener",
              "Environment": "production"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "web_lt",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "lt-0a1b2c3d4e5f6g7h8",
            "arn": "arn:aws:ec2:us-east-1:123456789012:launch-template/lt-0a1b2c3d4e5f6g7h8",
            "name": "web-server-launch-template",
            "image_id": "ami-0abcdef1234567890",
            "instance_type": "t3.medium",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "security_group_ids": ["sg-0a1b2c3d4e5f6g7h8"],
            "tags": {
              "Name": "Web Server Launch Template",
              "Environment": "production",
              "Application": "web"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "api_lt",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "lt-1b2c3d4e5f6g7h8i9",
            "arn": "arn:aws:ec2:us-east-1:123456789012:launch-template/lt-1b2c3d4e5f6g7h8i9",
            "name": "api-server-launch-template",
            "image_id": "ami-0bcdef1234567890a",
            "instance_type": "t3.large",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "security_group_ids": ["sg-0a1b2c3d4e5f6g7h8"],
            "tags": {
              "Name": "API Server Launch Template",
              "Environment": "production",
              "Application": "api"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "web_asg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "web-asg-20231215123456",
            "arn": "arn:aws:autoscaling:us-east-1:123456789012:autoScalingGroup:12345678-1234-1234-1234-123456789012:autoScalingGroupName/web-asg",
            "name": "web-autoscaling-group",
            "min_size": 2,
            "max_size": 10,
            "desired_capacity": 4,
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "subnet_ids": ["subnet-2c3d4e5f6g7h8i9j0"],
            "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:123456789012:targetgroup/web-tg/50dc6c495c0c9188",
            "tags": {
              "Name": "Web Server ASG",
              "Environment": "production",
              "Service": "web",
              "Team": "frontend"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "api_asg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "api-asg-20231215123456",
            "arn": "arn:aws:autoscaling:us-east-1:123456789012:autoScalingGroup:23456789-2345-2345-2345-234567890123:autoScalingGroupName/api-asg",
            "name": "api-autoscaling-group",
            "min_size": 3,
            "max_size": 15,
            "desired_capacity": 6,
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "subnet_ids": ["subnet-2c3d4e5f6g7h8i9j0"],
            "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:123456789012:targetgroup/api-tg/60dc7c595c0c9299",
            "tags": {
              "Name": "API Server ASG",
              "Environment": "production",
              "Service": "api",
              "Team": "backend"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "bastion",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "i-0a1b2c3d4e5f6g7h8",
            "arn": "arn:aws:ec2:us-east-1:123456789012:instance/i-0a1b2c3d4e5f6g7h8",
            "instance_type": "t3.micro",
            "ami": "ami-0c55b159cbfafe1f0",
            "name": "bastion-host",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "subnet_ids": ["subnet-0a1b2c3d4e5f6g7h8"],
            "security_groups": ["sg-0a1b2c3d4e5f6g7h8"],
            "public_ip": "54.123.45.67",
            "private_ip": "10.0.1.10",
            "tags": {
              "Name": "Bastion Host",
              "Environment": "production",
              "Purpose": "ssh-access"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "monitoring",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "i-1b2c3d4e5f6g7h8i9",
            "arn": "arn:aws:ec2:us-east-1:123456789012:instance/i-1b2c3d4e5f6g7h8i9",
            "instance_type": "t3.large",
            "ami": "ami-0d55b259cbfafe2f1",
            "name": "monitoring-server",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "subnet_ids": ["subnet-2c3d4e5f6g7h8i9j0"],
            "security_groups": ["sg-0a1b2c3d4e5f6g7h8"],
            "private_ip": "10.0.10.20",
            "tags": {
              "Name": "Monitoring Server",
              "Environment": "production",
              "Purpose": "prometheus-grafana"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ec2_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "ec2-instance-role",
            "arn": "arn:aws:iam::123456789012:role/ec2-instance-role",
            "name": "ec2-instance-role",
            "description": "IAM role for EC2 instances",
            "tags": {
              "Name": "EC2 Instance Role",
              "Environment": "production",
              "ManagedBy": "Terraform"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "lambda-execution-role",
            "arn": "arn:aws:iam::123456789012:role/lambda-execution-role",
            "name": "lambda-execution-role",
            "description": "IAM role for Lambda functions",
            "tags": {
              "Name": "Lambda Execution Role",
              "Environment": "production",
              "Service": "lambda"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "s3_read_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "arn:aws:iam::123456789012:policy/s3-read-only-policy",
            "arn": "arn:aws:iam::123456789012:policy/s3-read-only-policy",
            "name": "s3-read-only-policy",
            "description": "Policy for read-only S3 access",
            "tags": {
              "Name": "S3 Read Only Policy",
              "Environment": "production"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "rtb-0a1b2c3d4e5f6g7h8",
            "arn": "arn:aws:ec2:us-east-1:123456789012:route-table/rtb-0a1b2c3d4e5f6g7h8",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "name": "public-route-table",
            "tags": {
              "Name": "Public Route Table",
              "Environment": "production"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "igw-0a1b2c3d4e5f6g7h8",
            "arn": "arn:aws:ec2:us-east-1:123456789012:internet-gateway/igw-0a1b2c3d4e5f6g7h8",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "name": "main-internet-gateway",
            "tags": {
              "Name": "Main Internet Gateway",
              "Environment": "production"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "nat-0a1b2c3d4e5f6g7h8",
            "arn": "arn:aws:ec2:us-east-1:123456789012:natgateway/nat-0a1b2c3d4e5f6g7h8",
            "subnet_id": "subnet-0a1b2c3d4e5f6g7h8",
            "name": "main-nat-gateway",
            "tags": {
              "Name": "Main NAT Gateway",
              "Environment": "production"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "app_data",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "production-app-data-bucket-xyz123",
            "arn": "arn:aws:s3:::production-app-data-bucket-xyz123",
            "bucket": "production-app-data-bucket-xyz123",
            "name": "production-app-data-bucket-xyz123",
            "region": "us-east-1",
            "tags": {
              "Name": "Application Data Bucket",
              "Environment": "production",
              "Purpose": "storage"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_rds_cluster",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "production-aurora-cluster",
            "arn": "arn:aws:rds:us-east-1:123456789012:cluster:production-aurora-cluster",
            "cluster_identifier": "production-aurora-cluster",
            "name": "production-aurora-cluster",
            "engine": "aurora-postgresql",
            "engine_version": "14.6",
            "port": 5432,
            "database_name": "appdb",
            "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
            "tags": {
              "Name": "Production Aurora Cluster",
              "Environment": "production",
              "Database": "postgresql"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_elasticache_cluster",
      "name": "redis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "production-redis-cluster",
            "arn": "arn:aws:elasticache:us-east-1:123456789012:cluster:production-redis-cluster",
            "cluster_id": "production-redis-cluster",
            "name": "production-redis-cluster",
            "engine": "redis",
            "engine_version": "7.0",
            "port": 6379,
            "node_type": "cache.t3.medium",
            "num_cache_nodes": 2,
            "tags": {
              "Name": "Production Redis Cluster",
              "Environment": "production",
              "Purpose": "caching"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "processor",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "data-processor-function",
            "arn": "arn:aws:lambda:us-east-1:123456789012:function:data-processor-function",
            "function_name": "data-processor-function",
            "name": "data-processor-function",
            "runtime": "python3.11",
            "handler": "lambda_function.lambda_handler",
            "memory_size": 512,
            "timeout": 300,
            "tags": {
              "Name": "Data Processor Function",
              "Environment": "production",
              "Service": "data-processing"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "app_logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "/aws/application/production",
            "arn": "arn:aws:logs:us-east-1:123456789012:log-group:/aws/application/production",
            "name": "/aws/application/production",
            "retention_in_days": 30,
            "tags": {
              "Name": "Application Logs",
              "Environment": "production"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sns_topic",
      "name": "alerts",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "arn:aws:sns:us-east-1:123456789012:production-alerts",
            "arn": "arn:aws:sns:us-east-1:123456789012:production-alerts",
            "name": "production-alerts",
            "display_name": "Production Alerts",
            "tags": {
              "Name": "Production Alerts Topic",
              "Environment": "production",
              "Purpose": "notifications"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "tasks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "https://sqs.us-east-1.amazonaws.com/123456789012/task-queue",
            "arn": "arn:aws:sqs:us-east-1:123456789012:task-queue",
            "name": "task-queue",
            "visibility_timeout_seconds": 300,
            "message_retention_seconds": 345600,
            "tags": {
              "Name": "Task Queue",
              "Environment": "production",
              "Purpose": "async-processing"
            }
          }
        }
      ]
    }
  ]
}